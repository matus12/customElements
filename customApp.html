<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Test custom app</title>
  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="https://matus12.github.io/customElements/css/kontent-ai-app-styles.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
  <script src="https://matus12.github.io/customElements/custom-app.min.js"></script>

</head>

<body>
  <div style="display: flex; flex-direction: column; gap: 6px">
    <h2>Project id:</h2>
    <div id="projectId"></div>  
  </div>
  <h2>User id:</h2>
  <div id="userId"></div>
  <h2>User email:</h2>
  <div id="userEmail"></div>
  <h2>User role ids:</h2>
  <div id="userRoleIds"></div>
  <script type="text/javascript">

    function updateSize() {
      // Updates the custom element height in the Kentico UI.
      const height = Math.ceil($('html').height());
      CustomElement.setHeight(height);
    }

    function updateDisabled(disabled) {
      isDisabled = disabled;
    }

    function initCustomElement() {
      try {
        CustomApp.init((config, context) => {
          console.log({config, context});
          document.getElementById("projectId").innerHTML = context.projectId;
          document.getElementById("userId").innerHTML = context.userId;
          document.getElementById("userEmail").innerHTML = context.userEmail;
          document.getElementById("userRoleIds").innerHTML = context.userRoleIds;
        });

      } catch (err) {
        console.error(err);
      }
    }

    initCustomElement();
  </script>
</body>
</html>
