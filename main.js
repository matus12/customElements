(()=>{"use strict";var e={382:function(e,t,s){var a,o=this&&this.__classPrivateFieldSet||function(e,t,s,a,o){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?o.call(e,s):o?o.value=s:t.set(e,s),s},i=this&&this.__classPrivateFieldGet||function(e,t,s,a){if("a"===s&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(e):a?a.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomApp=void 0;const r=s(61);t.CustomApp=class{constructor(e){a.set(this,void 0),o(this,a,e,"f")}init(){return new Promise(((e,t)=>{i(this,a,"f").sendMessageWithReply(r.CustomAppClientMessageType.InitDataRequest,r.CustomAppHostMessageType.InitDataResponse,(s=>{s?e(s):t(new Error("Failed to initialize the custom app"))}))}))}},a=new WeakMap},522:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initCustomApp=t.CustomAppMessageSender=void 0;const a=s(61),o=s(185),i=s(382);class r{constructor(e){this._callbacks={},this._executeCallbacks=(e,t,s)=>{const a=this._getCallbackKey(e,s),o=this._callbacks[a];this._callbacks[a]=void 0,null==o||o(t)},this._processMessage=e=>{if(e.data){const t=e.data;this._allowedHostMessageTypes.includes(t.type)&&this._executeCallbacks(t.type,t.data,t.requestId)}},this._getCallbackKey=(e,t)=>e+(t||""),this._allowedHostMessageTypes=e,window.addEventListener("message",this._processMessage,!0)}sendMessage(e,t,s,a){const o={version:e,type:t,data:s,requestId:a};if(window.self===window.top)throw Error("Custom app is not hosted in an IFrame");window.parent.postMessage(o,"*")}sendMessageWithReply(e,t,s,a){if("function"!=typeof s)throw Error("Specify a callback function.");const i=(0,o.createGuid)();this.registerCallback(t,s,i),this.sendMessage("1.0.0",e,a,i)}registerCallback(e,t,s){const a=this._getCallbackKey(e,s);this._callbacks[a]=t}}class n extends r{}t.CustomAppMessageSender=n;const p=new i.CustomApp(new n(Object.values(a.CustomAppHostMessageType)));t.initCustomApp=()=>p.init()},61:(e,t)=>{var s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.CustomAppHostMessageType=t.CustomAppClientMessageType=void 0,function(e){e.InitDataRequest="init-data-request"}(s||(t.CustomAppClientMessageType=s={})),function(e){e.InitDataResponse="init-data-response"}(a||(t.CustomAppHostMessageType=a={}))},185:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createGuid=void 0,t.createGuid=()=>globalThis.crypto.randomUUID()}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,s),i.exports}(()=>{const e=s(382),t=s(522),a=s(61);new e.CustomApp(new t.CustomAppMessageSender(Object.values(a.CustomAppHostMessageType)))})()})();